<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 500">
  <!-- Background -->
  <rect x="0" y="0" width="1000" height="500" fill="#e0f2f1" opacity="0.3"/>
  
  <!-- Stage 1 container -->
  <rect x="20" y="20" width="300" height="460" fill="#f9f9f9" stroke="#333" stroke-width="2" rx="5" ry="5"/>
  <text x="170" y="45" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle">Stage 1: Supervised Fine-Tuning</text>

  <!-- Stage 1 boxes -->
  <rect x="50" y="60" width="240" height="80" fill="#e1f5fe" stroke="#0288d1" stroke-width="1.5" rx="3" ry="3"/>
  <text x="170" y="95" font-family="Arial" font-size="14" fill="#01579b" text-anchor="middle">Data Collection</text>
  <text x="170" y="115" font-family="Arial" font-size="12" fill="#01579b" text-anchor="middle">GIR, Market, News</text>

  <rect x="50" y="180" width="240" height="80" fill="#e1f5fe" stroke="#0288d1" stroke-width="1.5" rx="3" ry="3"/>
  <text x="170" y="205" font-family="Arial" font-size="14" fill="#01579b" text-anchor="middle">Reasoning Trajectory</text>
  <text x="170" y="225" font-family="Arial" font-size="14" fill="#01579b" text-anchor="middle">Generation</text>
  <text x="170" y="245" font-family="Arial" font-size="12" fill="#01579b" text-anchor="middle">Synthetic Chain-of-Thought</text>

  <rect x="50" y="300" width="240" height="80" fill="#e1f5fe" stroke="#0288d1" stroke-width="1.5" rx="3" ry="3"/>
  <text x="170" y="325" font-family="Arial" font-size="14" fill="#01579b" text-anchor="middle">Trajectory Evaluation</text>
  <text x="170" y="345" font-family="Arial" font-size="14" fill="#01579b" text-anchor="middle">& Selection</text>
  <text x="170" y="365" font-family="Arial" font-size="12" fill="#01579b" text-anchor="middle">Quality Assessment</text>

  <rect x="50" y="420" width="240" height="80" fill="#e1f5fe" stroke="#0288d1" stroke-width="1.5" rx="3" ry="3"/>
  <text x="170" y="445" font-family="Arial" font-size="14" fill="#01579b" text-anchor="middle">Model Fine-Tuning</text>
  <text x="170" y="465" font-family="Arial" font-size="14" fill="#01579b" text-anchor="middle">Optimize Reasoning</text>

  <!-- Stage 1 arrows -->
  <line x1="170" y1="140" x2="170" y2="180" stroke="#333" stroke-width="2"/>
  <polygon points="170,180 165,170 175,170" fill="#333"/>

  <line x1="170" y1="260" x2="170" y2="300" stroke="#333" stroke-width="2"/>
  <polygon points="170,300 165,290 175,290" fill="#333"/>

  <line x1="170" y1="380" x2="170" y2="420" stroke="#333" stroke-width="2"/>
  <polygon points="170,420 165,410 175,410" fill="#333"/>

  <!-- Stage 2 container -->
  <rect x="400" y="20" width="580" height="460" fill="#f9f9f9" stroke="#333" stroke-width="2" rx="5" ry="5"/>
  <text x="690" y="45" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle">Stage 2: Reinforcement Learning</text>

  <!-- Stage 2 boxes -->
  <rect x="560" y="70" width="240" height="60" fill="#e1f5fe" stroke="#0288d1" stroke-width="1.5" rx="3" ry="3"/>
  <text x="680" y="105" font-family="Arial" font-size="14" fill="#01579b" text-anchor="middle">Event-Driven RL Environment</text>

  <rect x="560" y="170" width="240" height="60" fill="#e1f5fe" stroke="#0288d1" stroke-width="1.5" rx="3" ry="3"/>
  <text x="680" y="205" font-family="Arial" font-size="14" fill="#01579b" text-anchor="middle">PPO/GRPO Training</text>

  <!-- Reward Functions container -->
  <rect x="460" y="270" width="460" height="110" fill="#fff8e1" stroke="#ffa000" stroke-width="1.5" rx="3" ry="3"/>
  <text x="690" y="295" font-family="Arial" font-size="16" fill="#ff6f00" text-anchor="middle" font-weight="bold">Reward Functions</text>

  <!-- Reward boxes -->
  <rect x="475" y="310" width="135" height="50" fill="#fff8e1" stroke="#ffa000" stroke-width="1" rx="3" ry="3"/>
  <text x="543" y="340" font-family="Arial" font-size="14" fill="#ff6f00" text-anchor="middle">Format Reward</text>

  <rect x="630" y="310" width="135" height="50" fill="#fff8e1" stroke="#ffa000" stroke-width="1" rx="3" ry="3"/>
  <text x="698" y="340" font-family="Arial" font-size="14" fill="#ff6f00" text-anchor="middle">Return Reward</text>

  <rect x="785" y="310" width="135" height="50" fill="#fff8e1" stroke="#ffa000" stroke-width="1" rx="3" ry="3"/>
  <text x="853" y="340" font-family="Arial" font-size="14" fill="#ff6f00" text-anchor="middle">Risk-Adjusted</text>

  <!-- Output box -->
  <rect x="560" y="420" width="240" height="60" fill="#e1f5fe" stroke="#0288d1" stroke-width="1.5" rx="3" ry="3"/>
  <text x="680" y="455" font-family="Arial" font-size="14" fill="#01579b" text-anchor="middle">Trading Decision Output</text>

  <!-- Stage 2 arrows and connections -->
  <line x1="680" y1="130" x2="680" y2="170" stroke="#333" stroke-width="2"/>
  <polygon points="680,170 675,160 685,160" fill="#333"/>

  <line x1="680" y1="230" x2="680" y2="270" stroke="#333" stroke-width="2"/>
  <polygon points="680,270 675,260 685,260" fill="#333"/>

  <line x1="690" y1="380" x2="690" y2="420" stroke="#333" stroke-width="2"/>
  <polygon points="690,420 685,410 695,410" fill="#333"/>

  <!-- Connection between stages - single arrow -->
  <line x1="320" y1="250" x2="400" y2="250" stroke="#333" stroke-width="3"/>
  <polygon points="400,250 390,245 390,255" fill="#333"/>

</svg>