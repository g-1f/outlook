{"version":3,"sources":["useListboxContextValues.ts"],"sourcesContent":["import * as React from 'react';\nimport { useContextSelector, useHasParentContext } from '@fluentui/react-context-selector';\nimport { ListboxContextValues, ListboxState } from '../components/Listbox/Listbox.types';\nimport { ComboboxContext } from './ComboboxContext';\n\nexport function useListboxContextValues(state: ListboxState): ListboxContextValues {\n  const hasComboboxContext = useHasParentContext(ComboboxContext);\n  const { multiselect, registerOption, selectedOptions, selectOption, activeDescendantController } = state;\n\n  // get register/unregister functions from parent combobox context\n  const comboboxRegisterOption = useContextSelector(ComboboxContext, ctx => ctx.registerOption);\n\n  const registerOptionValue = hasComboboxContext ? comboboxRegisterOption : registerOption;\n\n  const listbox = {\n    activeOption: undefined,\n    focusVisible: false,\n    multiselect,\n    registerOption: registerOptionValue,\n    selectedOptions,\n    selectOption,\n    setActiveOption: () => undefined,\n  };\n\n  const activeDescendant = React.useMemo(\n    () => ({\n      controller: activeDescendantController,\n    }),\n    [activeDescendantController],\n  );\n\n  return { listbox, activeDescendant };\n}\n"],"names":["React","useContextSelector","useHasParentContext","ComboboxContext","useListboxContextValues","state","hasComboboxContext","multiselect","registerOption","selectedOptions","selectOption","activeDescendantController","comboboxRegisterOption","ctx","registerOptionValue","listbox","activeOption","undefined","focusVisible","setActiveOption","activeDescendant","useMemo","controller"],"mappings":"AAAA,YAAYA,WAAW,QAAQ;AAC/B,SAASC,kBAAkB,EAAEC,mBAAmB,QAAQ,mCAAmC;AAE3F,SAASC,eAAe,QAAQ,oBAAoB;AAEpD,OAAO,SAASC,wBAAwBC,KAAmB;IACzD,MAAMC,qBAAqBJ,oBAAoBC;IAC/C,MAAM,EAAEI,WAAW,EAAEC,cAAc,EAAEC,eAAe,EAAEC,YAAY,EAAEC,0BAA0B,EAAE,GAAGN;IAEnG,iEAAiE;IACjE,MAAMO,yBAAyBX,mBAAmBE,iBAAiBU,CAAAA,MAAOA,IAAIL,cAAc;IAE5F,MAAMM,sBAAsBR,qBAAqBM,yBAAyBJ;IAE1E,MAAMO,UAAU;QACdC,cAAcC;QACdC,cAAc;QACdX;QACAC,gBAAgBM;QAChBL;QACAC;QACAS,iBAAiB,IAAMF;IACzB;IAEA,MAAMG,mBAAmBpB,MAAMqB,OAAO,CACpC,IAAO,CAAA;YACLC,YAAYX;QACd,CAAA,GACA;QAACA;KAA2B;IAG9B,OAAO;QAAEI;QAASK;IAAiB;AACrC"}